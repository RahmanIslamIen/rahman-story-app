<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Rahman Story App</title>
    <style>
      html {
        cursor: none;
      }
    </style>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="bootstrap.min.css" />
  </head>
  <body>
    <animasi-mouse></animasi-mouse>

    <!-- bagian navbar mulai-->
    <nav
      class="navbar navbar-expand-lg sticky-top"
      style="background-color: #20c997"
    >
      <div class="container-fluid">
        <a class="navbar-brand" href="#"><b>ðŸ“° Rahman Story APP</b></a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarTogglerDemo01"
          aria-controls="navbarTogglerDemo01"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item ml-2">
              <a class="nav-link" aria-current="page" href="#">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="tambah-story.html">Tambah Story</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="profil-developer.html"
                >Profil Developer</a
              >
            </li>
          </ul>
          <form class="d-flex" role="search">
            <div id="userName" class=".tampilUser"></div>
          </form>
        </div>
      </div>
    </nav>
    <!-- bagian navbar berakhir-->

    <!-- carousel dimulai -->
    <div
      id="carouselExampleCaptions"
      class="carousel slide"
      style="width: 100%"
    >
      <div class="carousel-indicators">
        <button
          type="button"
          data-bs-target="#carouselExampleCaptions"
          data-bs-slide-to="0"
          class="active"
          aria-current="true"
          aria-label="Slide 1"
        ></button>
        <button
          type="button"
          data-bs-target="#carouselExampleCaptions"
          data-bs-slide-to="1"
          aria-label="Slide 2"
        ></button>
        <button
          type="button"
          data-bs-target="#carouselExampleCaptions"
          data-bs-slide-to="2"
          aria-label="Slide 3"
        ></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img
            src="https://c0.wallpaperflare.com/preview/255/288/958/banner-books-globe-board.jpg"
            class="d-block w-100"
            alt="..."
            height="300px"
            style="object-fit: cover"
          />
          <div class="carousel-caption d-none d-md-block">
            <h5>Bebas Kreativitas</h5>
            <p>tidak membatasi ide mu dalam mengembangkan cerita</p>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="https://c0.wallpaperflare.com/preview/255/288/958/banner-books-globe-board.jpg"
            class="d-block w-100"
            alt="..."
            height="300px"
            style="object-fit: cover"
          />
          <div class="carousel-caption d-none d-md-block">
            <h5>kelola publikasi mu</h5>
            <p>
              kamu bisa mambuat postingan mu dilihat oleh semua orang, kamu
              saja, atau hanya beberapa orang.
            </p>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="https://c0.wallpaperflare.com/preview/255/288/958/banner-books-globe-board.jpg"
            class="d-block w-100"
            alt="..."
            height="300px"
            style="object-fit: cover"
          />
          <div class="carousel-caption d-none d-md-block">
            <h5>buat iklan di story mu</h5>
            <p>kamu bebas mengiklankan apa pun di story mu</p>
          </div>
        </div>
      </div>
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carouselExampleCaptions"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carouselExampleCaptions"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    <!-- carousel selesai -->

    <hero-section></hero-section>

    <!-- bagian isi konten dimulai-->
    <div class="container-fluid">
      <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
      <div class="content"></div>

      <center>
        <div class="text-center mt-5">
          <div class="spinner-border" role="status" id="loadingSpinner">
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </center>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const dataUrl =
            "https://raw.githubusercontent.com/dicodingacademy/a565-webtools-labs/099-shared-files/proyek-awal/DATA.json";
          const contentContainer = document.querySelector(".content");
          const loadingSpinner = document.getElementById("loadingSpinner");

          // loading spinner pas fetch data
          loadingSpinner.style.display = "block";

          axios
            .get(dataUrl)
            .then((response) => {
              const data = response.data;
              if (!data.error) {
                renderDashboard(data.listStory);
              } else {
                console.error(data.message);
              }
            })
            .catch((error) => console.error("Error fetching data:", error))
            .finally(() => {
              // hide jika fetch udah selesai
              loadingSpinner.style.display = "none";
            });

          function renderDashboard(stories) {
            // Hapus elemen loading pas data udah keterima
            loadingSpinner.style.display = "none";

            if (stories && stories.length > 0) {
              const rowElement = document.createElement("div");
              rowElement.classList.add(
                "row",
                "row-cols-1",
                "row-cols-md-4",
                "g-4",
                "m-2"
              );

              stories.forEach((story) => {
                const colElement = document.createElement("div");
                colElement.classList.add("col");

                const cardElement = createCardElement(story);
                colElement.appendChild(cardElement);

                rowElement.appendChild(colElement);
              });

              contentContainer.appendChild(rowElement);
            } else {
              contentContainer.innerHTML = "<p>No stories available.</p>";
            }
          }

          function createCardElement(story) {
            const cardElement = document.createElement("div");
            cardElement.classList.add("card");

            const imageElement = document.createElement("img");
            imageElement.src = story.photoUrl;
            imageElement.alt = story.name;
            imageElement.classList.add("card-img-top");
            cardElement.appendChild(imageElement);

            const bodyElement = document.createElement("div");
            bodyElement.classList.add("card-body");

            const titleElement = document.createElement("h5");
            titleElement.classList.add("card-title");
            titleElement.textContent = story.name;
            bodyElement.appendChild(titleElement);

            const textElement = document.createElement("p");
            textElement.classList.add("card-text");
            textElement.textContent = story.description;
            bodyElement.appendChild(textElement);

            // Konversi format tanggal
            const date = new Date(story.createdAt);
            const formattedDate = formatDate(date);

            const dateElement = document.createElement("p");
            dateElement.classList.add("badge");
            dateElement.classList.add("text-bg-secondary");
            dateElement.textContent = formattedDate;
            bodyElement.appendChild(dateElement);

            cardElement.appendChild(bodyElement);

            return cardElement;
          }

          // Fungsi untuk mengonversi format tanggal
          function formatDate(date) {
            const options = {
              weekday: "long",
              day: "numeric",
              month: "long",
              year: "numeric",
            };
            return new Intl.DateTimeFormat("id-ID", options).format(date);
          }
        });
      </script>
    </div>
    <!-- bagian isi konten berakhir-->

    <div class="outer-card">
      <center>
        <h1>Kelebihan Rahman Story App</h1>
      </center>
      <div class="semua-fitur">
        <div class="inner-card">
          <h5>Cloud Data</h5>
          <p>
            peyimpanan cloud kamu tidak perlu khawatir catatan keserharian keren
            mu hilang
          </p>
        </div>
        <div class="inner-card">
          <h5>UI Yang Indah</h5>
          <p>
            tampilan dibuat khusus agar kamu tidak merasa bosann ataupun jenuh
          </p>
        </div>
        <div class="inner-card">
          <h5>Kemudahan Penggunaan</h5>
          <p>mudah digunakan oleh siapapun pemakainya dan tidak rumit</p>
        </div>
      </div>
    </div>

    <div
      style="
        width: 70%;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 50px;
      "
    >
      <h1>FAQ</h1>
      <div class="accordion accordion-flush" id="accordionFlushExample">
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#flush-collapseOne"
              aria-expanded="false"
              aria-controls="flush-collapseOne"
            >
              kenapa website ini dibuat ?
            </button>
          </h2>
          <div
            id="flush-collapseOne"
            class="accordion-collapse collapse"
            data-bs-parent="#accordionFlushExample"
          >
            <div class="accordion-body">
              Rahman Story App dibuat dengan tujuan memberikan pengalaman unik
              kepada pengguna dalam menjelajahi dan menikmati kisah-kisah
              inspiratif dari kehidupan sehari-hari. Dengan menyajikan konten
              yang menginspirasi dan mendalam, kami bertujuan untuk memberikan
              nilai positif kepada pengguna, memotivasi mereka, dan mengajak
              mereka untuk merenung tentang berbagai aspek kehidupan. Melalui
              desain intuitif dan pengalaman pengguna yang menyenangkan, Rahman
              Story App bertujuan untuk menjadi sumber inspirasi dan hiburan
              yang dapat diakses dengan mudah oleh semua kalangan, menyebarkan
              pesan-pesan positif dan mendorong pertumbuhan pribadi.
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#flush-collapseTwo"
              aria-expanded="false"
              aria-controls="flush-collapseTwo"
            >
              apakah ada membership ?
            </button>
          </h2>
          <div
            id="flush-collapseTwo"
            class="accordion-collapse collapse"
            data-bs-parent="#accordionFlushExample"
          >
            <div class="accordion-body">
              Tidak ada program keanggotaan (membership) di Rahman Story App
              saat ini. Kami berkomitmen untuk menyediakan akses gratis dan
              setara kepada seluruh pengguna tanpa memerlukan biaya tambahan.
              Meskipun demikian, kami terus berusaha meningkatkan pengalaman
              pengguna dengan menyajikan konten yang bermutu tinggi dan layanan
              yang responsif bagi semua orang yang mengunjungi website kami.
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#flush-collapseThree"
              aria-expanded="false"
              aria-controls="flush-collapseThree"
            >
              bisakah merequest fitur baru ?
            </button>
          </h2>
          <div
            id="flush-collapseThree"
            class="accordion-collapse collapse"
            data-bs-parent="#accordionFlushExample"
          >
            <div class="accordion-body">
              Tentu saja! Kami sangat menyambut setiap masukan dan saran dari
              pengguna Rahman Story App. Jika Anda memiliki ide atau keinginan
              untuk fitur baru yang dapat meningkatkan pengalaman pengguna,
              silakan kirimkan permintaan fitur Anda. Kami berkomitmen untuk
              terus memperbarui dan meningkatkan aplikasi kami berdasarkan umpan
              balik berharga dari pengguna setia kami. Kami percaya bahwa dengan
              kolaborasi antara pengguna dan tim pengembangan, kita dapat
              menciptakan pengalaman yang lebih baik dan memuaskan bagi seluruh
              komunitas Rahman Story App.
            </div>
          </div>
        </div>
      </div>
    </div>

    <hubungi-saya></hubungi-saya>
    <bagian-footer></bagian-footer>
    <floating-badge></floating-badge>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const userName = getCookie("user_name");

        if (userName) {
          document.getElementById(
            "userName"
          ).innerHTML = `Selamat Datang, ${userName}! <a id="logoutBtn" class="btn btn-outline-danger">Logout</a>`;
          document
            .getElementById("logoutBtn")
            .addEventListener("click", function () {
              logout();
            });
        } else {
          document.getElementById(
            "userName"
          ).innerHTML = `<a class="btn btn-outline-danger" href="login.html">Login</a>`;
        }

        function getCookie(name) {
          const cookies = document.cookie.split(";");
          for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.startsWith(name + "=")) {
              return cookie.substring(name.length + 1);
            }
          }
          return null;
        }

        function logout() {
          document.cookie =
            "user_name=; expires=Thu, 17 Aug 1945 00:00:00 UTC; path=/;";
          window.location.href = "login.html";
        }
      });
    </script>
  </body>
</html>
